<!DOCTYPE html>

<html>


<head>
  

  <meta charset="utf-8">
  <meta name="description" content="WebRTC reference app">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
  <meta itemprop="description" content="Video chat using the reference WebRTC application">
  <meta itemprop="image" content="/images/webrtc-icon-192x192.png">
  <meta itemprop="name" content="AppRTC">
  <meta name="mobile-web-app-capable" content="yes">
  <meta id="theme-color" name="theme-color" content="#ffffff">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> 
  <base target="_blank">
  <title>VIVA 1A IPS - Teleconsulta</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" sizes="192x192" href="/images/webrtc-icon-192x192.png">
  <link rel="canonical" href="{{room_link}}">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>  
  <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>  
 
</head>

<body>
<div class="row">
  <div class="col-md-9" id="vidi">
    <div style="position: absolute; z-index: 1;"><img src="https://viva1a.com.co/wp-content/uploads/2019/03/img-logo-p.png">
      <div id="time" style="margin-left: 20%;"></div>
    </div>
    
   <div id="videos">
      
      <video id="mini-video" autoplay playsinline muted></video>
      <video id="remote-video" autoplay playsinline></video>
      <video id="local-video" autoplay playsinline muted></video>
   
    </div>
    <div class="wrapper ">
      <div id="derecho-video" class="h_iframe">
         
        
       </div>
    
  </div>
  
  
    <div id="room-selection" class="hidden">
      <h2>Consultorio Virtual VIVA 1A IPS</h2>
      <p id="instructions">Por favor digite el codigo de la consulta</p>
      <div></div>
      <div id="room-id-input-div">
        <input type="text" id="room-id-input" autofocus/>
        <label class="error-label hidden" for="room-id-input" id="room-id-input-label">El codigo de consulta no es valido</label>
      </div>
      <div id="room-id-input-buttons">
        <button id="join-button">INICIAR</button>
        <button style="display: none;" id="random-button">RANDOM</button>
      </div>
    </div>
    
      <div id="recent-rooms" style="display: none;">
        <p>Recently used rooms:</p>
        <ul id="recent-rooms-list"></ul>
      </div>
   
  
      <div id="confirm-join-div" class="hidden Concentimiento">    
        <!--<div style="position: absolute;"><img src="https://viva1a.com.co/wp-content/uploads/2019/03/img-logo-p.png"></div>-->
        <div style="font-size: 1.1em !important;">      
         {{textoMostrar}} <span id="confirm-join-room-span" style="display: none;"></span>
        </div>
        <div id="confirm-derechos-div" style="font-size: 0.7em !important;text-align: left;margin-bottom: 0!important;" class="hidden">   
         <div class="col-md-12 row" >
          <div class="col-md-5" style="width: 100%;"></div>
          <div class="col-md-4" style="line-height: 0;font-size: 0.7em">
            <label><input type="checkbox" id="cbox1" value="first_checkbox"> Acepto <span    data-toggle="modal" data-target="#exampleModal" style="text-decoration: underline;" >terminos y condiciones</span></label><br>
            <label><input type="checkbox" id="cbox2" value="first_checkbox"> Acepto  <span   data-toggle="modal" data-target="#politicaprivacidad" style="text-decoration: underline;" >politica de privacidad</span></label><br>
            <label><input type="checkbox" id="cbox3" value="first_checkbox"> Acepto  <span   data-toggle="modal" data-target="#concentimiento" style="text-decoration: underline;" >concentimiento informado</span></label><br>
           </div> 
         </div>
        
         

         </div>
      
          <button  id="confirm-join-button">INICIAR</button>
      
         
        </div>
    
  
    <footer>
      <div id="sharing-div">
        <div id="room-link">Estas conectado al consultorio virtual de VIVA 1A IPS. Esperando conexi√≥n de otro participante <a id="room-link-href" style="display: none;" href="{{room_link}}" target="_blank">{{room_link}}</a></div>
      </div> 
      <div id="info-div" style="display: none;">Code for Node AppRTC is available from <a href="http://github.com/webrtc/apprtc" title="GitHub repo for AppRTC">github.com/webrtc/apprtc</a></div>
      <div id="status-div"></div>
      <div id="rejoin-div" class="hidden"><span>Has abandonado la llamada.</span> <button id="rejoin-button" style="display: none;">REJOIN</button><button id="new-room-button" style="display: none;">NEW ROOM</button><button id="calificacion-button">Califica tu experiencia</button></div>
    </footer>
    <div id="icons" class="hidden">
      <svg id="mute-audio" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewbox="-10 -10 68 68">
      <title>Title</title>
        <circle cx="24" cy="24" r="34">
          <title>Mute</title>
        </circle>
        <path class="on" transform="scale(0.6), translate(17,18)" d="M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z" fill="white"/>
        <path class="off" transform="scale(0.6), translate(17,18)"  d="M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z"  fill="white"/>
      </svg>
      <svg id="mute-video" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewbox="-10 -10 68 68">
        <circle cx="24" cy="24" r="34">
          <title>Apagar Video</title>
        </circle>
        <path class="on" transform="scale(0.6), translate(17,16)" d="M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z" fill="white"/>
        <path class="off" transform="scale(0.6), translate(17,16)" d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z" fill="white"/>
      </svg>
      <svg id="fullscreen" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewbox="-10 -10 68 68">
        <circle cx="24" cy="24" r="34">
          <title>Ver Pantalla Completa</title>
        </circle>
        <path class="on" transform="scale(0.8), translate(7,6)" d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z" fill="white"/>
        <path class="off" transform="scale(0.8), translate(7,6)"  d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z" fill="white"/>
      </svg>
    
      <svg id="chatSvg"  xmlns="http://www.w3.org/2000/svg"  width="48" height="48" viewbox="-10 -10 68 68">
      <circle cx="24" cy="24" r="34">
        <title>Ocultar Chat</title>
      </circle>
   <path class="on"  fill="white" transform="scale(0.2), translate(30,30)"  d="M26.875,21.5c-8.86035,0 -16.125,7.26465 -16.125,16.125v86c0,8.86035 7.26465,16.125 16.125,16.125h16.125v26.16114l39.2627,-26.16114h49.88672l10.49804,10.54004l7.64258,-7.64258l-120.72754,-120.68554v-0.46192zM43.88183,21.5l10.75,10.75h79.74317c2.98145,0 5.375,2.43555 5.375,5.375v79.74317l10.07813,10.07813c0.29395,-1.25977 0.67188,-2.47754 0.67188,-3.82129v-86c0,-8.90234 -7.22266,-16.125 -16.125,-16.125zM25.02734,32.62793l31.87207,31.87207h-3.14942v10.75h13.89942l10.75,10.75h-24.64942v10.75h35.39942l32.25,32.25h-42.41211l-25.2373,16.83886v-16.83886h-26.875c-3.02344,0 -5.375,-2.35156 -5.375,-5.375v-86c0,-2.35156 1.46973,-4.24121 3.52734,-4.99707zM32.25,64.5v10.75h10.75v-10.75zM86.88183,64.5l10.75,10.75h31.36817v-10.75zM32.25,86v10.75h10.75v-10.75zM108.38183,86l10.75,10.75h9.86817v-10.75z"></path>

          <path class="off" transform="scale(0.2), translate(30,30)"  d="M28.66667,21.5c-7.88333,0 -14.26335,6.45 -14.26335,14.33333l-0.05599,85.986c0,7.91917 6.41417,14.34733 14.33333,14.34733h14.31934v28.66667l28.66667,-28.66667h71.66667c7.88333,0 14.33333,-6.45 14.33333,-14.33333v-86c0,-7.88333 -6.45,-14.33333 -14.33333,-14.33333zM93.16667,50.16667l28.66667,28.66667l-28.66667,28.66667v-21.5h-43v-14.33333h43z" fill="white"></path>
        
        </svg>

      <svg id="hangup" class="hidden" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewbox="-10 -10 68 68">
        <circle cx="24" cy="24" r="34">
          <title>Colgar</title>
        </circle>
        <path transform="scale(0.7), translate(11,10)" d="M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z" fill="white"/>
      </svg>
     
    </div>
    <div>
  
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Terminos y condiciones</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">cerrar</button>
              <button type="button" class="btn btn-primary">Aceptar</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="politicaprivacidad" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Plitica de privacidad</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">cerrar</button>
              <button type="button" class="btn btn-primary">Aceptar</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="concentimiento" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Concentimiento informado</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">cerrar</button>
              <button type="button" class="btn btn-primary">Aceptar</button>
            </div>
          </div>
        </div>
      </div>


  </div>
  

  </div>
  


<div  class="col-md-3" id="chatdiv">

  <!-- partial:index.partial.html -->
  <div class="container ">
    
    <div class="chat">
      <div class="chat-header clearfix">
        <div id="profileImage"></div>
        <div class="chat-about">
          <div class="chat-with"> {{nombreRemisor}}</div>
        </div>
        <i class="fa fa-star"></i>
      </div> <!-- end chat-header -->
      
      <div class="chat-history">
        <ul>
        
          
        </ul>
        
      </div> <!-- end chat-history -->
      
      <div class="chat-message clearfix">
        <textarea name="message-to-send" id="message-to-send" placeholder ="Escriba su mensaje" rows="3"></textarea>
                

        <input type="file" id="selectedFile" style="display: none;" />
      
        <i class="fa fa-file-o"></i> &nbsp;&nbsp;&nbsp;
        <i class="fa fa-file-image-o" onclick="document.getElementById('selectedFile').click();"></i>
        
        <button>Enviar</button>
  
      </div> <!-- end chat-message -->
      
    </div> <!-- end chat -->
    
  </div> <!-- end container -->

  <!-- partial -->
  <div id="privacy"></div>
  {{include_loopback_js}}

  <script src="/js/apprtc.debug.js"></script>
  <script src="/js/cronometro.js"></script>
  <script>

   debugger
    {{#if error_messages}}
    var errorMessages = {{error_messages}};
    {{else}}
    var errorMessages = [];
    {{/if}}
    {{#if warning_messages}}
    var warningMessages = {{warning_messages}};
    {{else}}
    var warningMessages = [];
    {{/if}}
    {{#if version_info}}
    var versionInfo = {{version_info}};
    {{else}}
    var versionInfo = [];
    {{/if}}
    var loadingParams = {
      nombreRemisor:'{{nombreRemisor}}',
      url:'{{url}}',
      tipo:'{{tipo}}',
      remisorChat:'{{remisor}}',
      clientid:'{{client_id}}',
      errorMessages: errorMessages,
      warningMessages: warningMessages,
      isLoopback: {{is_loopback}},
      {{#if room_id}}
      roomId: '{{room_id}}',
      roomLink: '{{room_link}}',
      {{/if}}
      mediaConstraints: {{{media_constraints}}},
      offerOptions: {{{offer_options}}},
      peerConnectionConfig: {{{pc_config}}},
      peerConnectionConstraints: {{{pc_constraints}}},
      iceServerRequestUrl: '{{turn_url}}',
      iceServerTransports: '{{turn_transports}}',
      wssUrl: '{{wss_url}}',
      wssPostUrl: '{{wss_post_url}}',
      bypassJoinConfirmation: {{bypass_join_confirmation}},
      versionInfo: versionInfo
    };
    var appController;
    function initialize() {
      if (document.visibilityState === 'prerender') {
        document.addEventListener('visibilitychange', onVisibilityChange);
        return;
      }
      appController = new AppController(loadingParams);
    }
    function onVisibilityChange() {
      if (document.visibilityState === 'prerender') {
        return;
      }
      document.removeEventListener('visibilitychange', onVisibilityChange);
      initialize();
    }
    initialize();
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/list.js/1.1.1/list.min.js'></script>
  <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.3/signalr.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
  <script  src="/js/chat.js"></script>
  
  </div>
</div>
</body>

</html>
